<div class="rounded shadow d-flex justify-content-between align-items-center px-4 py-3 my-2 todo-item">
  <div class="d-flex justify-content-start align-items-center w-100" (click)="toggleTodo()">
    <span *ngIf="!editting" class="mr-2">
      <i *ngIf="todo.status === 'completed'" class="fa-solid fa-times text-danger"></i>
      <i *ngIf="todo.status === 'pending'" class="fa-solid fa-check text-success"></i>
    </span>
    <span class="mr-2" *ngIf="['medium', 'high'].includes(todo.priority) && !editting">
      <i class="fa-solid fa-circle-exclamation"
        [ngClass]="{'text-danger':todo.priority === 'high', 'text-warning': todo.priority === 'medium' }"></i>
    </span>
    <p *ngIf="!editting" [ngStyle]="{'textDecoration':todo.status === 'completed' ? 'line-through' : 'none'}"
      class="m-0">
      {{ todo.task }}</p>
    <form #form="ngForm" (ngSubmit)="editTodo(form)" id="editForm" *ngIf="editting" class="w-100">
      <div class="form-inline flex-nowrap">
        <input type="text" name="task" #task="ngModel" class="form-control flex-fill"
          [class.border-danger]="task.errors?.required && task.dirty" [(ngModel)]="todo.task" required
          placeholder="Invalid Input" maxlength="30">
        <select name="priority" [(ngModel)]="todo.priority" class="form-control"
          [class.border-danger]="task.errors?.required && task.dirty" required>
          <option value="" selected disabled class="default-option">Selet Priority</option>
          <option *ngFor="let priority of priorityOptions" [ngValue]="priority.value"> {{priority.name}} </option>
        </select>
      </div>
    </form>
  </div>
  <div class="d-flex flex-md-row flex-column justify-content-center align-items-center ml-2 ml-md-3">
    <button type="button" class="btn" (click)="editTodo(form)" [disabled]="todo.task.trim() === ''">
      <i *ngIf="!editting" class="fa-solid fa-pencil-alt text-warning"></i>
      <i *ngIf="editting" class="fa-solid fa-floppy-disk text-success" [class.disabled]="todo.task.trim() === ''"></i>
    </button>
    <button class="btn" (click)="deleteTodo()" [disabled]="editting"><i [class.disabled]="editting"
        class="fa-solid fa-trash text-danger"></i></button>
  </div>
</div>
<!-- <div class="todo-item">
  <span class="priority" *ngIf="['medium', 'high'].includes(todo.priority)">
    <i class="fa-solid fa-circle-exclamation"
      [ngClass]="{'red':todo.priority === 'high', 'yellow': todo.priority === 'medium' }"></i>
  </span>
  <div class="todo-task" (click)="toggleTodo()">
    <span *ngIf="!editting">
      <i *ngIf="todo.status === 'completed'" class="fa-solid fa-times red"></i>
      <i *ngIf="todo.status === 'pending'" class="fa-solid fa-check green"></i>
    </span>
    <p *ngIf="!editting" [class.completed]="todo.status === 'completed'">{{ todo.task }}</p>
    <form #form="ngForm" (ngSubmit)="editTodo(form)" id="editForm" *ngIf="editting">
      <div class="form-group">
        <input type="text" name="task" #task="ngModel" class="edit-todo-input"
          [class.invalid-input]="task.errors?.required && task.dirty" [(ngModel)]="todo.task" required
          placeholder="Invalid Input" maxlength="30">
        <i *ngIf="form.invalid" class="fa-solid fa-circle-exclamation error-icon"></i>
      </div>
      <select name="priority" [(ngModel)]="todo.priority" required>
        <option value="" selected disabled class="default-option">Selet Priority</option>
        <option *ngFor="let priority of priorityOptions" [ngValue]="priority.value"> {{priority.name}} </option>
      </select>
    </form>
  </div>
  <div class="todo-actions">
    <button type="button" (click)="editTodo(form)" [disabled]="todo.task.trim() === ''">
      <i *ngIf="!editting" class="fa-solid fa-pencil-alt yellow"></i>
      <i *ngIf="editting" class="fa-solid fa-floppy-disk green" [class.disabled]="todo.task.trim() === ''"></i>
    </button>
    <button (click)="deleteTodo()" [disabled]="editting"><i [class.disabled]="editting"
        class="fa-solid fa-trash red"></i></button>
  </div>
</div> -->